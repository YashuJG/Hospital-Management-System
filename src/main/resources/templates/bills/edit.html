<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Bill - Hospital Management System</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="card">
                    <div class="card-header">
                        <h3 class="text-center">Edit Bill</h3>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/bills/edit}" method="post" th:object="${bill}">
                            <input type="hidden" th:field="*{id}">
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="patientId">Patient</label>
                                        <select class="form-control" id="patientId" name="patientId" required>
                                            <option value="">Select Patient</option>
                                            <option th:each="patient : ${patients}" 
                                                    th:value="${patient.id}" 
                                                    th:text="${patient.name + ' (' + patient.email + ')'}"
                                                    th:selected="${patient.id == bill.patient.id}">
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="doctorId">Doctor</label>
                                        <select class="form-control" id="doctorId" name="doctorId" required>
                                            <option value="">Select Doctor</option>
                                            <option th:each="doctor : ${doctors}" 
                                                    th:value="${doctor.id}" 
                                                    th:text="${doctor.name + ' - ' + doctor.specialization}"
                                                    th:selected="${doctor.id == bill.doctor.id}">
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="consultationFee">Consultation Fee</label>
                                        <input type="number" class="form-control" id="consultationFee" 
                                               th:field="*{consultationFee}" step="0.01" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="medicationFee">Medication Fee</label>
                                        <input type="number" class="form-control" id="medicationFee" 
                                               th:field="*{medicationFee}" step="0.01" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="labFee">Laboratory Fee</label>
                                        <input type="number" class="form-control" id="labFee" 
                                               th:field="*{labFee}" step="0.01" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="otherFees">Other Fees</label>
                                        <input type="number" class="form-control" id="otherFees" 
                                               th:field="*{otherFees}" step="0.01" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group mt-3">
                                <label for="description">Description</label>
                                <textarea class="form-control" id="description" th:field="*{description}" 
                                          rows="3" placeholder="Enter bill description"></textarea>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="dueDate">Due Date</label>
                                        <input type="date" class="form-control" id="dueDate" 
                                               th:field="*{dueDate}" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="status">Status</label>
                                        <select class="form-control" id="status" th:field="*{status}" required>
                                            <option value="PENDING">Pending</option>
                                            <option value="PAID">Paid</option>
                                            <option value="OVERDUE">Overdue</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary">Update Bill</button>
                                <a th:href="@{/bills/list}" class="btn btn-secondary">Cancel</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.js}"></script>
</body>
</html> 